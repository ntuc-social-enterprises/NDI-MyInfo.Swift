//
//  File.swift
//  MyInfoTests
//
//  Created by Li Hao Lai on 21/12/20.
//

@testable import MyInfo
import XCTest

class MyInfoUtilsTests: XCTestCase {
  func testResponseDecrypt() {
    let response = "eyJhbGciOiJSU0EtT0FFUCIsImVuYyI6IkEyNTZHQ00iLCJraWQiOiJwcmVwcm9kLW15aW5mby5pZGVudGl0eS5uZWRpZ2l0YWwuc2cifQ.YgQDvkch_4-9j_XN9ucr7oDlD8zquo58gaq2Ns8MmGSFIzu3kaGaBMM0V4NRRWcEgSi1g5ZsPsgggwPVi2H52HsxZHsgG91oun9DMYVWMd_2AwKZpGbXB0hdmHhoeM5oZLqgYnZL9AoWljox5db0emJxQGpo0smXgwapOIs67GqeA5Fa87It1Q6-1a88QxiIeP6vbLLSECdoGpWMYavKif3j5s5F7fpHhuIY5wh-f4JcxXNi3ON5MZrggr_t_-3Aya_1HuJSDAFbaMztQ0cBziByiTnPmG9MzDNci4v1rT43_pUzrNAcBMKEVgS9nSOddF27bDX4ZT5Jw6J-pFUMfA.um_mVcjznnOstPfV.NuldWLfnDD8KwNq_FkTtXTy1E0G9EjPI6O63KcksTeABwbGOWOVC5t9HhFBHqkyCMLLV-ZAKYMz43IUsLG7dFt_527n_5QdQmnixWMRVa80Sz1bOoCT9R_7T67gAzLz5ygK32fR8KimeCdu2TAfDgf6UIxHV2NFlRlK4ixRTADVFzz5Rs0wRYMB57-SMGDtci0CnLEAdyYvKukPrg7MDmYOqBfxwvKB2_nrcRSutmb7C-Q37FOh71eLtF9bd33ojXgWCCcqoYpxVb5Uut79pz6HSMcAg0egMu5DMnFDnGvbFgt5GLt7-RpRpELaGloMsA2JMJHWk3_MZ1ck22PoiAfkDTYkTetLHxBkL8pQdOIxPBGxaDaHSOWBf6VF7jXdXJXn6rhb-SG-diAn7p0z1NWxJK60mcnGyIwB-Wft5i60Vaz91eOTT5P00B1FamO0xcWGfCbVcQ0VyhM9sg7cvN5CJbm9OJ2LITUcNxJ1D2wAg5wW-ireiiCp2J37ZUq_PoeFpJw6ZR9HH2FUGQ1X9JxWuS7uobUHmhe5SV-Kc59Ytu25xK3C0xYzcNH0aNw2t5dXl9-GA54jP18G1JRumJmdqKG7vjlu1rzfWpUF9uYUSPjlBXYZgrofFK6YIJK3FylIxu1CSKE1y31Kh7dyaQewRp9viH9ncl-ZoamTNDOu7Z96D6Tgkx8RP9v9PNCAsl4USP7lXnBWTvbyHsZjnijv8d3PNJm8_2-dQlseR2GOD49-zh9Lzs5eT-4Qr9QQJ44YfPqb8tapnQXvmCNnnoVArxnS6r7c6RCHTncTOvobZjOPPphEvUM8J6nbVZHkBxsyhM-uDqJ9bEr_IqFTsWQ8JvCxun4qPDSUCWDtZCqD830jjEMedMPslgaltwnj9Zy_oAbEQK9HPI1KuXZcr3LCU1lXNlHShQbvChjUE0qgLX2bqKaAmBKOeW18G6xaVp-lbvw8DrR0I6FkZXrq3lrZHxs3gu2WuqwqPkCY6m-YTX5PoX-oXPxPr_-A2yGduApZ8SxaZ9h1kYkcEUMBpiNNSN6fwCCaMbf34EX-oKlXUpv72s-3ljR5Sm5RX9NcyB8oIwIHHK_km0CIEixObjFx45ITWu7SfhqkFGtZh6x0TQu8j2pWLJGKG4eJyM72Nc1rUJ3TBljzc3w0l73wvtxZP4YAm_eLsv06zykl1SjVkYHtjLdPGPL3QdgRM-rXRjsqbMUz-jxvXSYk472VBaIXbTgLlM8n6J7sfi9NG-6FSrGz-7veFoh8uScOuer7siz2k0NiF.3ycKy4tasYcCHr6IDBm50g"

    let serviceProvider = MyInfoServiceProvider(in: Bundle(for: Self.self))
    let utils = serviceProvider.utils

    let data = Data(response.utf8)
    try! utils.decodeJWE(body: data)
  }
}
